<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Coordinator Dashboard</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" th:href="@{/css/dashboard.css}">
</head>
<body class="bg-light">

<div class="container py-4">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2>Coordinator Dashboard</h2>
        <button class="btn btn-dark" id="toggleDarkMode">Toggle Dark Mode</button>
    </div>

    <ul class="nav nav-tabs" id="dashboardTabs" role="tablist">
        <li class="nav-item" role="presentation">
            <button class="nav-link active" id="labs-tab" data-bs-toggle="tab" data-bs-target="#labs" type="button" role="tab">Labs</button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="users-tab" data-bs-toggle="tab" data-bs-target="#users" type="button" role="tab">Users</button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="assets-tab" data-bs-toggle="tab" data-bs-target="#assets" type="button" role="tab">Assets</button>
        </li>
    </ul>

    <div class="tab-content mt-3">
        <!-- LABS MANAGEMENT -->
        <div class="tab-pane fade show active" id="labs" role="tabpanel">
            <div class="d-flex justify-content-between mb-2">
                <h5>Lab List</h5>
                <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#addLabModal">Add Lab</button>
            </div>
            <table class="table table-bordered table-striped">
                <thead>
                <tr>
                    <th>Lab Name</th>
                    <th>Location</th>
                    <th>Actions</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="lab : ${labs}">
                    <td th:text="${lab.name}">Lab Name</td>
                    <td th:text="${lab.location}">Location</td>
                    <td>
                        <a th:href="@{'/labs/edit/' + ${lab.id}}" class="btn btn-sm btn-warning">Edit</a>
                        <a th:href="@{'/labs/delete/' + ${lab.id}}" class="btn btn-sm btn-danger">Delete</a>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>

        <!-- USERS MANAGEMENT -->
        <div class="tab-pane fade" id="users" role="tabpanel">
            <h5>Coming soon...</h5>
        </div>

        <!-- ASSETS MANAGEMENT -->
        <div class="tab-pane fade" id="assets" role="tabpanel">
            <h5>Coming soon...</h5>
        </div>
    </div>
</div>

<!-- Add Lab Modal -->
<div class="modal fade" id="addLabModal" tabindex="-1" aria-labelledby="addLabModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <form th:action="@{/labs/add}" method="post" class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="addLabModalLabel">Add New Lab</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <div class="mb-3">
                    <label class="form-label">Lab Name</label>
                    <input type="text" name="name" class="form-control" required/>
                </div>
                <div class="mb-3">
                    <label class="form-label">Location</label>
                    <input type="text" name="location" class="form-control" required/>
                </div>
            </div>
            <div class="modal-footer">
                <button type="submit" class="btn btn-primary">Add Lab</button>
            </div>
        </form>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
    document.getElementById("toggleDarkMode").addEventListener("click", () => {
        document.body.classList.toggle("bg-dark");
        document.body.classList.toggle("text-white");
    });
</script>

</body>
</html>
